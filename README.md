# Ansible-проект: Балансировщик нагрузки + Веб-серверы

## Описание

Проект демонстрирует развёртывание простой веб-инфраструктуры с использованием **Ansible** и **Vagrant**.  
Состоит из 3 виртуальных машин:

- **2 веб-сервера** (`web1`, `web2`) — отдают HTML-страницы с шаблоном `index.html.j2`.
- **1 балансировщик нагрузки** (`loadbalancer`) — использует **nginx** и проксирует трафик на сервера.

Балансировка происходит по алгоритму **round-robin** (по умолчанию в nginx).

---

## Быстрый старт

### 1. Запустите виртуалки

```bash
vagrant up
```
Это создаст 3 машины с IP:

192.168.1.25 — node1

192.168.1.26 — node2

192.168.1.27 — node3

### 2. Примените Ansible-плейбук

```bash
ansible-playbook -i inventory.ini site.yml
```

## 3. Открой браузер. 
Перейдите по адресу: http://localhost

Вы должны увидеть сообщение Hello from node1 или node2. Обновите страницу — и сервер может смениться (если соединение новое).

## Детали реализации

* Балансировка через Nginx (proxy_pass + upstream)
* HTML-шаблон с {{ ansible_hostname }} для проверки откуда пришёл ответ
* Роль loadbalancer использует Jinja2-шаблон nginx.conf.j2
* Ansible инвентарь использует IP, выданные Vagrant

## Авторизация по паролю (опционально)

В данном проекте для удобства подключения по SSH используются прокинутые вручную SSH-ключи на каждую машину.

В Vagrantfile включена поддержка входа по паролю:

Данные по умолчанию:
* Пользователь: vagrant
* Пароль: vagrant